<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.itheima.dao.SetmealDao">
    <insert id="add" parameterType="setmeal" useGeneratedKeys="true" keyColumn="id" keyProperty="id">
        INSERT INTO t_setmeal
         (`id`, `name`, `code`, `helpCode`, `sex`, `age`, `price`, `remark`, `attention`, `img`)
         VALUES
         (null, #{name}, #{code}, #{helpCode}, #{sex}, #{age}, #{price}, #{remark}, #{attention}, #{img})
    </insert>

    <insert id="setRelation" >
        INSERT INTO `t_setmeal_checkgroup`
        (`setmeal_id`, `checkgroup_id`)
        values
         (#{param1}, #{param2} )

    </insert>


    <select id="findByCondition" parameterType="string" resultType="setmeal">
        select * from t_setmeal
        <where>
            <if test="value != null and value.length > 0">
                code like "%"#{value}"%"
                or name like "%"#{value}"%"
                or helpCode like "%"#{value}"%"
            </if>
        </where>
    </select>
</mapper>